(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(30),c=n.n(s),o=(n(67),n(6)),i=n(10),u=n(9),l=(n(68),n(69),n(70),n(0));var d=function(){return Object(l.jsxs)("footer",{className:"footer",children:[Object(l.jsx)("h3",{children:" --  MI PROYECTO MAS PERSONAL  -- "}),Object(l.jsx)("h5",{className:"footer-text",children:"Todos los derechos reservados \xa9 "})]})},j=n(125),b=n(120),h=n(127),m=n(8),O=n(17),f=n.n(O),p=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,n,a){return t.instance.post("/signup",{username:e,password:n,email:a})},this.login=function(e,n,a){return t.instance.post("/login",{username:e,password:n,email:a})},this.logout=function(){return t.instance.get("/logout")},this.isloggedin=function(){return t.instance.post("/isloggedin")},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/auth"),withCredentials:!0})},g=n(2),x=n(11),v=n(121),k=n(54),y=n(122),S=(n(91),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this)).handleChange=function(e){var t=e.target.value;a.setState(Object(g.a)(Object(g.a)({},a.state),{},{searchValue:t}))},a.state={searchValue:""},a}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return Object(l.jsx)(b.a,{children:Object(l.jsxs)(v.a,{className:"mb-3 mt-4",children:[Object(l.jsx)(k.a,{onChange:function(t){return e.handleChange(t)},name:"searchValue",value:this.state.searchValue,placeholder:"Search for title...","aria-label":"buscar"}),Object(l.jsx)(m.b,{to:"/lista-libros/".concat(this.state.searchValue),children:Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Buscar"})})]})})}}]),n}(a.Component)),C=new p;function N(e){return Object(l.jsx)(j.a,{expand:"md",className:"mb-5",children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(j.a.Brand,{href:"/",children:"My App"}),Object(l.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(l.jsxs)(h.a,{className:"me-auto",children:[Object(l.jsx)(m.b,{className:"nav-link",to:"/",children:"Home"}),e.loggedUser?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.b,{className:"nav-link",to:"/perfil",children:"Mi perfil"}),Object(l.jsx)("span",{className:"nav-link",onClick:function(){C.logout().then((function(t){return e.storeUser(null)})).catch((function(e){return console.log(e)}))},children:"Logout"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.b,{className:"nav-link",to:"/registro",children:"Registro"}),Object(l.jsx)(m.b,{className:"nav-link",to:"/iniciar-sesion",children:"Iniciar sesi\xf3n"})]})]})}),Object(l.jsx)(j.a.Brand,{children:Object(l.jsx)(S,{})})]})})}var F=n(13),U=n(123),I=n(59),A=n(22),w=n.n(A),B=(n(101),function(e){return e<.5?Object(l.jsx)("div",{className:"rating",children:"\u2606\u2606\u2606\u2606\u2606"}):e>.5&&e<=1.5?Object(l.jsx)("div",{className:"rating",children:"\u2605\u2606\u2606\u2606\u2606"}):e>1.5&&e<=2.5?Object(l.jsx)("div",{className:"rating",children:"\u2605\u2605\u2606\u2606\u2606"}):e>2.5&&e<=3.5?Object(l.jsx)("div",{className:"rating",children:"\u2605\u2605\u2605\u2606\u2606"}):e>3.5&&e<=4.5?Object(l.jsx)("div",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2606"}):e>4.5&&e<=5?Object(l.jsx)("div",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2605"}):void 0});n(102);var V=function(e){var t=e.text,n=e.rate;return e._id,Object(l.jsxs)(I.a,{className:"comment-item",children:[Object(l.jsx)("article",{children:t}),Object(l.jsx)(l.Fragment,{children:n?B(n):Object(l.jsx)("p",{children:"Sin puntuacion"})})]})},L=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this)).displayComments=function(){return a.state.comments?a.state.comments.map((function(e){return Object(l.jsx)(V,Object(g.a)({},e))})):Object(l.jsx)("div",{children:"fallando"})},a.state={comments:null},a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{comments:this.props.comments}))}},{key:"render",value:function(){return Object(l.jsx)(b.a,{children:Object(l.jsx)(U.a,{children:this.displayComments()})})}}]),n}(a.Component),D=function e(){var t=this;Object(o.a)(this,e),this.getAudios=function(){return t.instance.get("/")},this.getAudiosNotValidated=function(){return t.instance.get("/validated")},this.getAudiosByFragment=function(e){return t.instance.get("/by-fragment?fragment=".concat(e._id))},this.getOneAudio=function(e){return t.instance.get("/".concat(e))},this.createAudio=function(e,n,a){return t.instance.post("/",{audioFile:e,fragment:n,userId:a})},this.deleteAudio=function(e){return t.instance.delete("/".concat(e))},this.updateAudio=function(e){return t.instance.put("/".concat(e))},this.updateAudioRate=function(e,n){return t.instance.put("/rate/".concat(e),{rate:n})},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/audio"),withCredentials:!0})},M=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={audio:null,rate:0},a.audioService=new D,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.audioService.getOneAudio(t).then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{audio:t.data.audio})),e.getRateComments()})).catch((function(e){return console.error(e)}))}},{key:"getRateComments",value:function(){var e,t,n=0;this.state.audio.comments.map((function(e){return n+=e.rate}));var a=n/(null===(e=this.state.audio)||void 0===e||null===(t=e.comments)||void 0===t?void 0:t.length);this.updateRateAudio(a)}},{key:"updateRateAudio",value:function(e){var t=this;this.audioService.updateAudioRate(this.state.audio._id,e).then((function(n){t.setState(Object(g.a)(Object(g.a)({},t.state),{},{rate:e}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.audio?Object(l.jsxs)(b.a,{children:[Object(l.jsxs)("h3",{children:["Audio de ",this.state.audio.book.name]}),Object(l.jsxs)("p",{children:["Del fragmento: ",this.state.audio.fragment.content]}),Object(l.jsxs)(U.a,{children:[Object(l.jsx)(I.a,{md:4,children:Object(l.jsx)(w.a,{src:"".concat(this.state.audio.audioFile),autoPlay:!1,controls:!0})}),Object(l.jsx)(I.a,{md:8,children:this.state.audio.comments.length>0?Object(l.jsx)(L,{comments:this.state.audio.comments}):Object(l.jsx)("p",{children:"No hay comentarios aun"})})]}),Object(l.jsx)(m.b,{to:"/crear-comentario/".concat(this.state.audio._id),children:Object(l.jsx)(y.a,{children:"Da tu opinion sobre este audio"})}),Object(l.jsx)(m.b,{to:"/audios",children:Object(l.jsx)(y.a,{children:"Volver a la lista de audios"})})]}):Object(l.jsx)("p",{children:"cargando..."})}}]),n}(a.Component),_=n(126),P=function e(){var t=this;Object(o.a)(this,e),this.uploadAudio=function(e){return t.instance.post("/audio",e)},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/upload"),withCredentials:!0})},R=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).uploadService=new P,e.audioService=new D,e.handleFile=function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{isLoading:!0}));var n=new FormData;n.append("audioData",t.target.files[0]),e.uploadService.uploadAudio(n).then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{isLoading:!1,audioFile:t.data.fileUrl}))})).catch((function(e){return alert("Error, no se ha subido el audio")}))},e.handleSubmit=function(t){t.preventDefault(),e.audioService.createAudio({fragment:e.state.fragment,audioFile:e.state.audioFile,userId:e.state.userId}).then((function(){e.props.history.push("/fragmentos/".concat(e.state.fragment))}))},e.state={fragment:"",audioFile:"",userId:"",isLoading:null},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.fragmentId;this.setState(Object(g.a)(Object(g.a)({},this.state),{},{userId:this.props.loggedUser._id,fragment:e}))}},{key:"render",value:function(){var e,t=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(_.a,{onSubmit:this.handleSubmit,children:[Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"audioFile",children:[Object(l.jsx)(_.a.Label,{children:"Archivo de audio: "}),Object(l.jsx)(_.a.Control,{onChange:function(e){return t.handleFile(e)},name:"audioFile",type:"file"})]}),this.state.isLoading&&Object(l.jsx)("p",{children:"Subiendo archivo"}),Object(l.jsx)(y.a,{disabled:this.state.isLoading,variant:"primary",type:"submit",children:this.state.isLoading?"Loading...":"Submit"})]}),Object(l.jsx)(m.b,{to:"/fragmentos/".concat(null===(e=this.state)||void 0===e?void 0:e.fragment),children:Object(l.jsx)(y.a,{children:"Volver a libros"})})]})}}]),n}(a.Component),E=function e(){var t=this;Object(o.a)(this,e),this.getUsers=function(){return t.instance.get("/")},this.getOneUser=function(e){return t.instance.get("/".concat(e))},this.createUser=function(e){return t.instance.post("/",e)},this.deleteUser=function(e){return t.instance.delete("/".concat(e))},this.addAudiosFav=function(e,n){return t.instance.put("/add-fav-audios",{audioId:e,userId:n})},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/user")})};n(103);var q=function(e){var t=e.rate,n=e.audioFile,a=e._id,r=e.loggedUser,s=e.storeUser,c=new E,o=function(e,t){return t.includes(e)},i=o(a,r?r.favAudios:[]);return Object(l.jsxs)(I.a,{md:6,children:[Object(l.jsx)(w.a,{src:"".concat(n),autoPlay:!1,controls:!0}),Object(l.jsx)(l.Fragment,{children:t?B(t):Object(l.jsx)("div",{className:"rating",children:"\u2606\u2606\u2606\u2606\u2606"})}),r&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m.b,{to:"/audios/".concat(a),children:Object(l.jsx)(y.a,{children:"Detalles"})}),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={audioId:a,userId:r._id};c.addAudiosFav(t.audioId,t.userId).then((function(e){s(e.data.user)})).catch((function(e){return console.log(e)})),i=o(a,r.favAudios)},children:Object(l.jsx)(y.a,{type:"submit",children:i?"Eliminar de Fav":"A\xf1adir a favoritos"})})]})]})},z=(n(104),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).displayAudios=function(){return a.state.audios?a.state.audios.map((function(e){return Object(l.jsx)(q,Object(g.a)(Object(g.a)({},e),{},{loggedUser:a.props.loggedUser,storeUser:a.props.storeUser}))})):Object(l.jsx)("p",{children:"Cargando..."})},a.sortByRate=function(){var e=a.state.audios;a.setState(Object(g.a)(Object(g.a)({},a.state),{},{audios:e.sort((function(e,t){return t.rate-e.rate}))}))},a.state={audios:null},a.audioService=new D,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.audioService.getAudios().then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{audios:t.data})),e.sortByRate()}))}},{key:"render",value:function(){return Object(l.jsxs)(b.a,{className:"border",children:[Object(l.jsxs)(U.a,{children:[Object(l.jsx)(I.a,{md:12,children:Object(l.jsx)("h2",{children:"Los mejores audios"})}),this.displayAudios()]}),Object(l.jsx)("hr",{}),!this.props.loggedUser&&Object(l.jsx)("h5",{children:" Inicia sesion para poder comentar "})]})}}]),n}(a.Component)),T=n(31),G=n.n(T),H=n(36),J=function e(){var t=this;Object(o.a)(this,e),this.getBooks=function(){return t.instance.get("/")},this.getOneBook=function(e){return t.instance.get("/".concat(e))},this.createBook=function(e){return t.instance.post("/create",e)},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/book"),withCredentials:!0})},Y=function e(){var t=this;Object(o.a)(this,e),this.getBooks=function(e){return t.instance.get("/search-book/".concat(e))},this.getBooksByType=function(e,n){return t.instance.get("/search-book-by/".concat(e,"/").concat(n))},this.getOneBook=function(e){return t.instance.get("/get-book/".concat(e))},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/apibook"),withCredentials:!0})},K=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={book:null,bookFromApi:null},a.apiBookService=new Y,a.bookService=new J,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBook();case 2:this.createTheBook();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBook",value:function(){var e=this,t=this.props.match.params.id;return this.apiBookService.getOneBook(t).then((function(n){var a={};if(n.data.length>1){var r=n.data.filter((function(e){return e.id===t}));a=r[0]}else a=n.data[0];e.setState(Object(g.a)(Object(g.a)({},e.state),{},{bookFromApi:a}))})).catch((function(e){return console.error(e)}))}},{key:"createTheBook",value:function(){var e,t,n,a=this,r={bookIdApi:null===(e=this.state.bookFromApi)||void 0===e?void 0:e.id,name:null===(t=this.state.bookFromApi)||void 0===t||null===(n=t.volumeInfo)||void 0===n?void 0:n.title};this.bookService.createBook(r).then((function(e){return a.setState(Object(g.a)(Object(g.a)({},a.state),{},{book:e}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(b.a,{children:this.state.bookFromApi?Object(l.jsxs)(U.a,{children:[Object(l.jsxs)(I.a,{children:[Object(l.jsx)("h3",{children:this.state.bookFromApi.volumeInfo.title}),this.state.bookFromApi.volumeInfo.description?Object(l.jsx)("p",{children:this.state.bookFromApi.volumeInfo.description}):Object(l.jsx)("p",{children:"No hay descripcion"}),Object(l.jsx)("p",{children:this.state.bookFromApi.volumeInfo.authors[0]}),Object(l.jsxs)("h4",{children:["Paginas: ",this.state.bookFromApi.volumeInfo.pageCount]})]}),Object(l.jsx)(m.b,{to:"/crear-fragmento/".concat(this.state.bookFromApi.id),children:Object(l.jsx)(y.a,{variant:"primary",children:"A\xf1ade otro fragmento"})}),Object(l.jsx)(m.b,{to:"/",children:Object(l.jsx)(y.a,{children:"volver"})})]}):Object(l.jsx)("h3",{children:"Cargando..."})})})}}]),n}(a.Component),Q=K,W=n(124),X=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this)).apibookService=new Y,a.componentDidUpdate=function(e,t){e.match.params.text!==a.props.match.params.text&&a.getBooks()},a.displayBooks=function(){return a.state.booksApi?a.state.booksApi.map((function(e){var t;return Object(l.jsxs)(I.a,{md:6,children:[Object(l.jsx)("h3",{children:e.volumeInfo.title}),Object(l.jsx)(W.a,{src:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)?e.volumeInfo.imageLinks.thumbnail:"https://www.esferalibros.com/assets/corporativa/images/portada_no_disponible.png"}),e.volumeInfo.description?Object(l.jsx)("p",{children:e.volumeInfo.description}):Object(l.jsx)("p",{children:"No hay descripcion"}),e.volumeInfo.authors?e.volumeInfo.authors.map((function(e){return Object(l.jsxs)("h4",{children:[" - ",e," - "]})})):Object(l.jsx)("p",{children:"Sin autores conocidos"}),Object(l.jsxs)("h4",{children:["Paginas: ",e.volumeInfo.pageCount]}),Object(l.jsx)(m.b,{to:"/detalles/".concat(e.id),children:Object(l.jsx)(y.a,{children:"hara cosas, como llevarte a narnia"})}),Object(l.jsx)("hr",{})]})})):Object(l.jsx)("p",{children:"Cargando..."})},a.state={booksApi:null},a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"getBooks",value:function(){var e=this,t=this.props.match.params.text;this.apibookService.getBooks(t).then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{booksApi:t.data}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(l.jsx)(b.a,{children:Object(l.jsxs)(U.a,{children:[this.state.booksApi?this.displayBooks():Object(l.jsx)("p",{children:"cargando..."}),Object(l.jsx)("hr",{})]})})}}]),n}(a.Component),Z=function e(){var t=this;Object(o.a)(this,e),this.getFragments=function(){return t.instance.get("/")},this.getFragmentsNotValidated=function(){return t.instance.get("/validated")},this.getOneFragment=function(e){return t.instance.get("/".concat(e))},this.createFragment=function(e){return t.instance.post("/",e)},this.deleteFragment=function(e){return t.instance.delete("/".concat(e))},this.updateFragment=function(e){return t.instance.put("/".concat(e))},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/fragment")})},$=n(128);n(106);var ee=function(e){var t=e._id,n=e.content,a=e.bookId;return Object(l.jsxs)($.a,{className:"fragment-item",children:[Object(l.jsx)($.a.Title,{className:"content",children:n}),Object(l.jsxs)($.a.Body,{children:[Object(l.jsxs)("p",{children:["Pertenece al libro con id: ",a]}),Object(l.jsx)(m.b,{to:"/crear-audio/".concat(t),children:Object(l.jsx)(y.a,{variant:"primary",children:"Subir audio de este fragmento"})}),Object(l.jsx)(m.b,{to:"/fragmentos/".concat(t),children:Object(l.jsx)(y.a,{children:"Audios del Fragmento"})})]})]})},te=(n(107),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).displayFragments=function(){return a.state.fragments?a.state.fragments.map((function(e){return Object(l.jsx)(I.a,{md:6,children:Object(l.jsx)(ee,Object(g.a)(Object(g.a)({},e),{},{bookName:a.props.book.name}))})})):Object(l.jsx)("p",{children:"Cargando..."})},a.filteredFragments=function(e){var t=a.state.fragments;return t?a.setState(Object(g.a)(Object(g.a)({},a.state),{},{fragments:t.filter((function(t){return t.bookId.includes(e)}))})):Object(l.jsx)("p",{children:"Cargando"})},a.state={fragments:null},a.fragmentService=new Z,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.fragmentService.getFragments().then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{fragments:t.data})),e.filteredFragments(e.props.book._id)}))}},{key:"render",value:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Fragmentos"}),Object(l.jsx)("hr",{}),Object(l.jsx)(b.a,{className:"list-fragments",children:Object(l.jsx)(U.a,{children:this.displayFragments()})})]})}}]),n}(a.Component)),ne=(n(108),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={book:null},a.bookService=new J,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.bookService.getOneBook(t).then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{book:t.data.book}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e;return Object(l.jsx)(b.a,{className:"book-details",children:this.state.book?Object(l.jsxs)(U.a,{children:[Object(l.jsxs)(I.a,{children:[Object(l.jsxs)("h1",{children:["Libro: ",this.state.book.name]}),null===(e=this.state.book.fragments)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)("p",{children:e.content})})),Object(l.jsx)(te,{book:this.state.book})]}),Object(l.jsx)(m.b,{className:"button-details",to:"/crear-fragmento/".concat(this.state.book._id),children:Object(l.jsx)(y.a,{variant:"primary",children:"A\xf1ade otro fragmento"})}),Object(l.jsx)(m.b,{className:"button-details2",to:"/",children:Object(l.jsx)(y.a,{children:"volver"})})]}):Object(l.jsx)("h3",{children:"Cargando el libro..."})})}}]),n}(a.Component)),ae=(n(109),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={bookFromApi:null,book:null},a.apiBookService=new Y,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.setState(Object(g.a)(Object(g.a)({},this.state),{},{book:this.props.book}))}},{key:"displayBook",value:function(){var e,t,n,a,r;return Object(l.jsx)(I.a,{md:4,children:Object(l.jsxs)($.a,{className:"book-item",children:[Object(l.jsx)($.a.Title,{className:"card-title",children:null===(n=this.state.book)||void 0===n?void 0:n.name}),Object(l.jsxs)($.a.Body,{children:[null===(a=this.state.book)||void 0===a?void 0:a.fragments.map((function(e){return e.isValidated&&Object(l.jsx)("p",{children:e.content})})),this.props.loggedUser&&Object(l.jsx)(m.b,{to:"/libros/".concat(null===(r=this.state.book)||void 0===r?void 0:r._id),children:Object(l.jsx)(y.a,{children:"Detalles"})})]})]})},"".concat(null===(e=this.state.book)||void 0===e?void 0:e.name,"-").concat(null===(t=this.state.book)||void 0===t?void 0:t._id))}},{key:"render",value:function(){return this.displayBook()}}]),n}(a.Component)),re=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).displayBooks=function(){return a.state.books?a.state.books.map((function(e,t){return Object(l.jsx)(ae,{book:e,loggedUser:a.props.loggedUser},"".concat(t,"-").concat(e._id))})):Object(l.jsx)("p",{children:"Cargando..."})},a.sortByFragments=function(){var e=a.state.books;a.setState(Object(g.a)(Object(g.a)({},a.state),{},{books:e.sort((function(e,t){return t.fragments.length-e.fragments.length}))}))},a.state={books:null},a.bookService=new J,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.bookService.getBooks().then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{books:t.data})),e.sortByFragments()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(l.jsxs)(b.a,{className:"",children:[Object(l.jsx)("h2",{children:"Listado de Libros"}),Object(l.jsx)(U.a,{children:this.displayBooks()}),Object(l.jsx)("hr",{}),!this.props.loggedUser&&Object(l.jsx)("h5",{children:"Inicia sesion para subir tus audios de los fragmentos que tu quieras"})]})}}]),n}(a.Component),se=n(61),ce=n(23),oe=function e(){var t=this;Object(o.a)(this,e),this.getComments=function(){return t.instance.get("/")},this.getCommentsNotValidated=function(){return t.instance.get("/validated")},this.getCommentsByUser=function(e){return t.instance.get("/by-user",e)},this.createComment=function(e){return t.instance.post("/",e)},this.deleteComment=function(e){return t.instance.delete("/".concat(e))},this.updateComment=function(e){return t.instance.put("/".concat(e))},this.instance=f.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/comment")})},ie=n(60),ue=(n(110),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).commentService=new oe,a.componentDidMount=function(){var e=a.props.loggedUser._id,t=a.props.match.params.audioId;a.setState(Object(g.a)(Object(g.a)({},a.state),{},{audioId:t,userId:e}))},a.handleSubmit=function(e){e.preventDefault(),a.commentService.createComment({text:a.state.text,user:a.state.userId,audioId:a.state.audioId,rate:a.state.rate}).then((function(){a.props.history.push("/audios/".concat(a.state.audioId))})).catch((function(e){return console.error(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(g.a)(Object(g.a)({},a.state),{},Object(ce.a)({},n,r)))},a.state={text:"",userId:"",audioId:"",rate:null,hover:null},a}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return Object(l.jsxs)(_.a,{onSubmit:this.handleSubmit,children:[Object(l.jsx)("h2",{children:"Valora el audio "}),Object(se.a)(Array(5)).map((function(t,n){var a=n+1;return Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{id:"starRadio",type:"radio",name:"rate",value:a,onClick:function(t){return e.handleChange(t)}}),Object(l.jsx)(ie.a,{className:"star",color:a<=(e.state.hover||e.state.rate)?"#ffc107":"#e4e5e9",size:30,onMouseEnter:function(){return e.setState(Object(g.a)(Object(g.a)({},e.state),{},{rate:a}))},onMouseLeave:function(){return e.setState(Object(g.a)(Object(g.a)({},e.state),{},{hover:null}))}})]},n)})),Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"text",children:[Object(l.jsx)(_.a.Label,{children:Object(l.jsx)("h4",{children:"Comentario: "})}),Object(l.jsx)(_.a.Control,{onChange:function(t){return e.handleChange(t)},name:"text",value:this.state.text,type:"text",placeholder:"Deja tu comentario"})]}),Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})}}]),n}(a.Component)),le=(n(111),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getAudios=function(){a.audioService.getAudiosByFragment(a.state.fragment).then((function(e){a.setState(Object(g.a)(Object(g.a)({},a.state),{},{fragmentAudios:e.data}))})).catch((function(e){return console.error(e)}))},a.displayAudios=function(){return a.state.fragmentAudios?a.state.fragmentAudios.map((function(e){return Object(l.jsxs)(I.a,{children:[Object(l.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),Object(l.jsx)(m.b,{to:"/audios/".concat(e._id),children:Object(l.jsx)(y.a,{children:"Comentarios del audio"})})]})})):Object(l.jsx)("p",{children:"Cargando lista de audios..."})},a.state={fragment:null,book:null,fragmentAudios:null},a.fragmentService=new Z,a.bookService=new J,a.audioService=new D,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFragmentAndBook();case 2:this.state.fragment&&this.getAudios();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFragmentAndBook",value:function(){var e=this,t=this.props.match.params.id,n={fragment:null};return this.fragmentService.getOneFragment(t).then((function(t){return n.fragment=t.data.fragment,e.bookService.getOneBook(t.data.fragment.bookId)})).then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{book:t.data.book,fragment:n.fragment}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e,t;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(b.a,{children:[this.state.fragment&&Object(l.jsx)(U.a,{children:Object(l.jsxs)(I.a,{children:[Object(l.jsx)("h3",{className:"fragment-content",children:this.state.fragment.content}),Object(l.jsxs)("p",{children:["Este fragmento es del Libro: ",this.state.book.name]})]})}),Object(l.jsx)(U.a,{children:this.displayAudios()}),Object(l.jsx)(m.b,{to:"/libros/".concat(null===(e=this.state.fragment)||void 0===e?void 0:e.bookId),children:Object(l.jsx)(y.a,{children:"Volver a libros"})}),Object(l.jsx)(m.b,{to:"/crear-audio/".concat(null===(t=this.state.fragment)||void 0===t?void 0:t._id),children:Object(l.jsx)(y.a,{children:"Subir audio de este fragmento"})})]})})}}]),n}(n(1).Component)),de=le,je=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).fragmentService=new Z,a.componentDidMount=function(){var e=a.props.match.params.bookId;a.setState(Object(g.a)(Object(g.a)({},a.state),{},{bookId:e}))},a.handleSubmit=function(e){e.preventDefault(),a.fragmentService.createFragment(a.state).then((function(){a.props.history.push("/libros")})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(g.a)(Object(g.a)({},a.state),{},Object(ce.a)({},n,r)))},a.state={content:"",bookId:""},a}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return Object(l.jsxs)(_.a,{onSubmit:this.handleSubmit,children:[Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"content",children:[Object(l.jsx)(_.a.Label,{children:"Fragmento: "}),Object(l.jsx)(_.a.Control,{onChange:function(t){return e.handleChange(t)},name:"content",value:this.state.content,type:"text",placeholder:"Introduce aqui el fragmento que vas a leer"})]}),Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})}}]),n}(a.Component);n(112);var be=function(e){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(b.a,{style:{minHeight:"100vh"},children:[Object(l.jsx)("h1",{children:"Bienvenid@ a La Voz de las Palabras"}),Object(l.jsxs)(U.a,{className:"homepage",children:[Object(l.jsx)(I.a,{className:"bloques",children:Object(l.jsx)(m.b,{to:"/libros",children:Object(l.jsx)(y.a,{children:"Ver libros"})})}),Object(l.jsx)(I.a,{className:"bloques",children:Object(l.jsx)(m.b,{to:"/audios",children:Object(l.jsx)(y.a,{children:"Ver audios"})})})]}),Object(l.jsx)("br",{}),e.loggedUser?Object(l.jsx)("div",{className:"homepage3",children:Object(l.jsx)(m.b,{to:"/perfil",children:Object(l.jsx)(y.a,{children:"Mi perfil"})})}):Object(l.jsxs)(U.a,{children:[Object(l.jsx)(I.a,{className:"homepage2",children:Object(l.jsx)(m.b,{to:"/registro",children:Object(l.jsx)(y.a,{children:"Registrate"})})}),Object(l.jsx)(I.a,{className:"homepage2",children:Object(l.jsx)(m.b,{to:"/iniciar-sesion",children:Object(l.jsx)(y.a,{children:"Inicia Sesion"})})})]})]}),Object(l.jsx)(re,{loggedUser:e.loggedUser}),Object(l.jsx)(z,{loggedUser:e.loggedUser,storeUser:e.storeUser})]})},he=(n(113),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ce.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.pwd;a.authService.login(n,r).then((function(e){a.props.storeUser(e.data),a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.state={username:"",pwd:"",email:""},a.authService=new p,a}return Object(x.a)(n,[{key:"render",value:function(){return Object(l.jsx)(b.a,{className:"text",children:Object(l.jsxs)(_.a,{onSubmit:this.handleFormSubmit,children:[Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(_.a.Label,{children:"Username"}),Object(l.jsx)(_.a.Control,{name:"username",value:this.state.username,onChange:this.handleInput,type:"text",placeholder:"Enter username"})]}),Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(_.a.Label,{children:"Password"}),Object(l.jsx)(_.a.Control,{name:"pwd",value:this.state.pwd,onChange:this.handleInput,type:"password",placeholder:"Password"})]}),Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})})}}]),n}(a.Component)),me=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getUser=function(){a.userService.getOneUser(a.props.loggedUser._id).then((function(e){a.setState(Object(g.a)(Object(g.a)({},a.state),{},{user:e.data.user}))})).catch((function(e){return console.log(e)}))},a.displayMyAudios=function(){return a.state.user?a.state.user.myAudios.map((function(e){return Object(l.jsxs)(I.a,{md:6,children:[Object(l.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),a.loggedUser&&Object(l.jsx)(m.b,{to:"/audios/".concat(e._id),children:Object(l.jsx)(y.a,{children:"Detalles"})})]})})):Object(l.jsx)("p",{children:"cargando usuario"})},a.displayFavAudios=function(){return a.state.user?a.state.user.favAudios.map((function(e){return Object(l.jsxs)(I.a,{md:6,children:[Object(l.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),Object(l.jsx)(m.b,{to:"/audios/".concat(e._id),children:Object(l.jsx)(y.a,{children:"Detalles"})})]})})):Object(l.jsx)("p",{children:"Cargando usuario"})},a.state={user:null},a.userService=new E,a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(U.a,{children:[Object(l.jsx)("h3",{children:"Lista de mis audios"}),Object(l.jsx)("hr",{}),this.state.user?this.displayMyAudios():Object(l.jsx)("p",{children:"Cargando audios..."})]}),Object(l.jsxs)(U.a,{children:[Object(l.jsx)("h3",{children:"Lista de mis audios favoritos"}),Object(l.jsx)("hr",{}),this.state.user?this.displayFavAudios():Object(l.jsx)("p",{children:"Cargando audios..."})]})]})}}]),n}(a.Component),Oe=n(62);var fe=function(e){var t=new Z,n=function(n){n.preventDefault();var a=n.target.querySelector("button").value;t.updateFragment(a).then((function(){e.getNotValidated()})).catch((function(e){return console.log(e)}))};return Object(l.jsxs)(U.a,{children:[Object(l.jsx)("h3",{children:"Lista de Fragmentos a validar"}),Object(l.jsx)("hr",{}),e.fragments?e.fragments.map((function(e){return Object(l.jsxs)(I.a,{className:"validated-items",md:4,children:[Object(l.jsxs)("p",{children:["-",e.content,"-"]}),Object(l.jsx)(_.a,{onSubmit:n,children:Object(l.jsx)(y.a,{type:"submit",value:e._id,children:"Validar"})})]})})):Object(l.jsx)("p",{children:"cargando fragmentos..."})]})};var pe=function(e){var t=new oe,n=function(n){n.preventDefault();var a=n.target.querySelector("button").value;t.updateComment(a).then((function(){e.getNotValidated()})).catch((function(e){return console.log(e)}))};return Object(l.jsxs)(U.a,{children:[Object(l.jsx)("h3",{children:"Lista de comentarios a validar"}),Object(l.jsx)("hr",{}),e.comments?e.comments.map((function(e){return Object(l.jsxs)(I.a,{className:"validated-items",md:3,children:[Object(l.jsxs)("p",{children:["-",e.text,"-"]}),Object(l.jsx)(_.a,{onSubmit:n,children:Object(l.jsx)(y.a,{type:"submit",value:e._id,children:"Validar"})})]})})):Object(l.jsx)("p",{children:"cargando comentarios..."})]})};n(114);var ge=function(e){var t=new D,n=function(n){n.preventDefault();var a=n.target.querySelector("button").value;t.updateAudio(a).then((function(){e.getNotValidated()})).catch((function(e){return console.log(e)}))};return Object(l.jsxs)(U.a,{className:"center",children:[Object(l.jsx)("h3",{children:"Lista de audios a validar"}),Object(l.jsx)("hr",{}),e.audios?e.audios.map((function(e,t){return Object(l.jsxs)(I.a,{className:"validated-items",md:3,children:[Object(l.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),Object(l.jsx)(_.a,{onSubmit:n,children:Object(l.jsx)(y.a,{type:"submit",value:e._id,children:"Validar"})})]},e._id+t)})):Object(l.jsx)("p",{children:"cargando audios..."})]})},xe=(n(115),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={fragmentsNotValidated:null,audiosNotValidated:null,commentsNotValidated:null},e.fragmentService=new Z,e.audioService=new D,e.commentService=new oe,e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.getNotValidated()}},{key:"getNotValidated",value:function(){var e=this,t=[this.fragmentService.getFragmentsNotValidated(),this.audioService.getAudiosNotValidated(),this.commentService.getCommentsNotValidated()];Promise.all(t).then((function(t){var n=Object(Oe.a)(t,3),a=n[0],r=n[1],s=n[2];e.setState(Object(g.a)(Object(g.a)({},e.state),{},{fragmentsNotValidated:a.data.fragments,audiosNotValidated:r.data,commentsNotValidated:s.data}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Validaciones"}),Object(l.jsx)(fe,{fragments:this.state.fragmentsNotValidated,getNotValidated:function(){return e.getNotValidated()}}),Object(l.jsx)(pe,{comments:this.state.commentsNotValidated,getNotValidated:function(){return e.getNotValidated()}}),Object(l.jsx)(ge,{audios:this.state.audiosNotValidated,getNotValidated:function(){return e.getNotValidated()}})]})}}]),n}(a.Component)),ve=(n(116),function(e){var t=e.loggedUser,n=e.storeUser;return Object(l.jsxs)(b.a,{children:[Object(l.jsxs)("h1",{children:["\xa1Bienvenid@, ",t.username,"!"]}),"ADMIN"===t.role?Object(l.jsx)(xe,{loggedUser:t}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Aqui van las listas de mis audios y los audios fav:"}),Object(l.jsx)(me,{loggedUser:t,storeUser:n})]})]})}),ke=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).apibookService=new Y,a.componentDidUpdate=function(e,t){e.match.params.text!==a.props.match.params.text&&a.getBooks()},a.displayBooks=function(){return a.state.libros?a.state.libros.map((function(e){return Object(l.jsxs)(I.a,{md:6,children:[Object(l.jsx)("h3",{children:e.volumeInfo.title}),e.volumeInfo.description?Object(l.jsx)("p",{children:e.volumeInfo.description}):Object(l.jsx)("p",{children:"Sin descripcion"}),e.volumeInfo.pageCount?Object(l.jsxs)("h4",{children:["Paginas: ",e.volumeInfo.pageCount]}):Object(l.jsx)(l.Fragment,{children:" "}),Object(l.jsx)(m.b,{children:Object(l.jsx)(y.a,{children:"hara cosas, como llevarte a narnia"})}),Object(l.jsx)("hr",{})]})})):Object(l.jsx)("p",{children:"Cargando..."})},a.state={libros:null},a}return Object(x.a)(n,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"getBooks",value:function(){var e=this,t=this.props.match.params.text;this.apibookService.getBooks(t).then((function(t){e.setState(Object(g.a)(Object(g.a)({},e.state),{},{libros:t.data}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(l.jsx)(b.a,{children:Object(l.jsxs)(U.a,{children:[this.state.libros?this.displayBooks():Object(l.jsx)("p",{children:"cargando..."}),Object(l.jsx)("hr",{})]})})}}]),n}(a.Component),ye=(n(117),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ce.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,s=t.email;a.authService.signup(n,r,s).then((function(e){return a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.state={username:"",password:"",email:""},a.authService=new p,a}return Object(x.a)(n,[{key:"render",value:function(){return Object(l.jsx)(b.a,{className:"text",children:Object(l.jsxs)(_.a,{className:"form",onSubmit:this.handleFormSubmit,children:[Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(l.jsx)(_.a.Label,{children:"Username"}),Object(l.jsx)(_.a.Control,{name:"username",value:this.state.username,onChange:this.handleInput,type:"text",placeholder:"Enter username"})]}),Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(_.a.Label,{children:"Email"}),Object(l.jsx)(_.a.Control,{name:"email",value:this.state.email,onChange:this.handleInput,type:"text",placeholder:"Email"})]}),Object(l.jsxs)(_.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(_.a.Label,{children:"Password"}),Object(l.jsx)(_.a.Control,{name:"password",value:this.state.password,onChange:this.handleInput,type:"password",placeholder:"Password"})]}),Object(l.jsx)(y.a,{variant:"primary",type:"submit",children:"Submit"})]})})}}]),n}(a.Component)),Se=function(e){var t=e.storeUser,n=e.loggedUser;return Object(l.jsxs)(F.d,{children:[Object(l.jsx)(F.b,{exact:!0,path:"/",render:function(){return Object(l.jsx)(be,{loggedUser:n,storeUser:t})}}),Object(l.jsx)(F.b,{exact:!0,path:"/libros",render:function(){return Object(l.jsx)(re,{loggedUser:n})}}),Object(l.jsx)(F.b,{exact:!0,path:"/audios",render:function(){return Object(l.jsx)(z,{loggedUser:n,storeUser:t})}}),Object(l.jsx)(F.b,{exact:!0,path:"/registro",render:function(e){return Object(l.jsx)(ye,Object(g.a)({},e))}}),Object(l.jsx)(F.b,{exact:!0,path:"/iniciar-sesion",render:function(e){return Object(l.jsx)(he,Object(g.a)({storeUser:t},e))}}),Object(l.jsx)(F.b,{path:"/lista-libros/:text",render:function(e){return Object(l.jsx)(X,Object(g.a)(Object(g.a)({},e),{},{loggedUser:n}))}}),Object(l.jsx)(F.b,{path:"/detalles/:id",render:function(e){return Object(l.jsx)(Q,Object(g.a)({},e))}}),Object(l.jsx)(F.b,{path:"/prueba-searchbar",render:function(){return Object(l.jsx)(S,{})}}),Object(l.jsx)(F.b,{path:"/prueba",render:function(){return Object(l.jsx)(ke,{})}}),n?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(F.b,{path:"/libros/:id",render:function(e){return Object(l.jsx)(ne,Object(g.a)({},e))}}),Object(l.jsx)(F.b,{path:"/fragmentos/:id",render:function(e){return Object(l.jsx)(de,Object(g.a)({},e))}}),Object(l.jsx)(F.b,{path:"/audios/:id",render:function(e){return Object(l.jsx)(M,Object(g.a)({},e))}}),Object(l.jsx)(F.b,{path:"/crear-audio/:fragmentId",render:function(e){return Object(l.jsx)(R,Object(g.a)(Object(g.a)({},e),{},{loggedUser:n}))}}),Object(l.jsx)(F.b,{path:"/crear-comentario/:audioId",render:function(e){return Object(l.jsx)(ue,Object(g.a)(Object(g.a)({},e),{},{loggedUser:n}))}}),Object(l.jsx)(F.b,{path:"/crear-fragmento/:bookId",render:function(e){return Object(l.jsx)(je,Object(g.a)({},e))}}),Object(l.jsx)(F.b,{path:"/perfil",render:function(){return Object(l.jsx)(ve,{loggedUser:n,storeUser:t})}})]}):Object(l.jsx)(F.a,{to:"/iniciar-sesion"})]})},Ce=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.authService.isloggedin().then((function(t){return e.storeUser(t.data)})).catch((function(t){return e.storeUser(null)}))},e.storeUser=function(t){return e.setState({loggedUser:t})},e.render=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(N,{loggedUser:e.state.loggedUser,storeUser:e.storeUser}),Object(l.jsx)(Se,{loggedUser:e.state.loggedUser,storeUser:e.storeUser}),Object(l.jsx)(d,{})]})},e.state={loggedUser:void 0},e.authService=new p,e}return n}(a.Component),Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(l.jsxs)(m.a,{children:[Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Ce,{})}),","]}),document.getElementById("root")),Ne()},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},91:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.28db512c.chunk.js.map