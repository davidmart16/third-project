(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(30),o=n.n(s),c=(n(67),n(6)),i=n(10),u=n(9),l=(n(68),n(69),n(111)),d=n(106),j=n(113),h=n(8),b=n(17),O=n.n(b),m=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e,n,a){return t.instance.post("/signup",{username:e,password:n,email:a})},this.login=function(e,n,a){return t.instance.post("/login",{username:e,password:n,email:a})},this.logout=function(){return t.instance.get("/logout")},this.isloggedin=function(){return t.instance.post("/isloggedin")},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/auth"),withCredentials:!0})},p=n(2),f=n(11),g=n(107),v=n(54),x=n(108),k=n(0),y=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this)).handleChange=function(e){var t=e.target.value;a.setState(Object(p.a)(Object(p.a)({},a.state),{},{searchValue:t})),console.log(a.state.searchValue)},a.state={searchValue:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return Object(k.jsx)(d.a,{children:Object(k.jsxs)(g.a,{className:"mb-3 mt-4",children:[Object(k.jsx)(v.a,{onChange:function(t){return e.handleChange(t)},name:"searchValue",value:this.state.searchValue,placeholder:"Search for title...","aria-label":"buscar"}),Object(k.jsx)(h.b,{to:"/lista-libros/".concat(this.state.searchValue),children:Object(k.jsx)(x.a,{variant:"primary",type:"submit",children:"Buscar"})})]})})}}]),n}(a.Component),S=new m;function C(e){return Object(k.jsx)(l.a,{expand:"md",className:"mb-5",children:Object(k.jsxs)(d.a,{children:[Object(k.jsx)(l.a.Brand,{href:"/",children:"My App"}),Object(k.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(k.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(k.jsxs)(j.a,{className:"me-auto",children:[Object(k.jsx)(h.b,{className:"nav-link",to:"/",children:"Home"}),e.loggedUser?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.b,{className:"nav-link",to:"/perfil",children:"Mi perfil"}),Object(k.jsx)("span",{className:"nav-link",onClick:function(){S.logout().then((function(t){return e.storeUser(null)})).catch((function(e){return console.log(e)}))},children:"Logout"})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.b,{className:"nav-link",to:"/registro",children:"Registro"}),Object(k.jsx)(h.b,{className:"nav-link",to:"/iniciar-sesion",children:"Iniciar sesi\xf3n"})]})]})}),Object(k.jsx)(l.a.Brand,{children:Object(k.jsx)(y,{})})]})})}var F=n(13),I=n(109),U=n(59),A=n(22),w=n.n(A),B=(n(99),function(e){return e<.5?Object(k.jsx)("div",{className:"rating",children:"\u2606\u2606\u2606\u2606\u2606"}):e>.5&&e<=1.5?Object(k.jsx)("div",{className:"rating",children:"\u2605\u2606\u2606\u2606\u2606"}):e>1.5&&e<=2.5?Object(k.jsx)("div",{className:"rating",children:"\u2605\u2605\u2606\u2606\u2606"}):e>2.5&&e<=3.5?Object(k.jsx)("div",{className:"rating",children:"\u2605\u2605\u2605\u2606\u2606"}):e>3.5&&e<=4.5?Object(k.jsx)("div",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2606"}):e>4.5&&e<=5?Object(k.jsx)("div",{className:"rating",children:"\u2605\u2605\u2605\u2605\u2605"}):void 0});var N=function(e){var t=e.text,n=e.rate;return e._id,Object(k.jsxs)(U.a,{children:[Object(k.jsx)("article",{children:t}),Object(k.jsx)(k.Fragment,{children:n?B(n):Object(k.jsx)("p",{children:"Sin puntuacion"})})]})},V=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this)).displayComments=function(){return a.state.comments?a.state.comments.map((function(e){return Object(k.jsx)(N,Object(p.a)({},e))})):Object(k.jsx)("div",{children:"fallando"})},a.state={comments:null},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.setState(Object(p.a)(Object(p.a)({},this.state),{},{comments:this.props.comments}))}},{key:"render",value:function(){return Object(k.jsx)(d.a,{children:Object(k.jsx)(I.a,{children:this.displayComments()})})}}]),n}(a.Component),L=function e(){var t=this;Object(c.a)(this,e),this.getAudios=function(){return t.instance.get("/")},this.getAudiosNotValidated=function(){return t.instance.get("/validated")},this.getAudiosByFragment=function(e){return t.instance.get("/by-fragment?fragment=".concat(e._id))},this.getOneAudio=function(e){return t.instance.get("/".concat(e))},this.createAudio=function(e,n,a){return t.instance.post("/",{audioFile:e,fragment:n,userId:a})},this.deleteAudio=function(e){return t.instance.delete("/".concat(e))},this.updateAudio=function(e){return t.instance.put("/".concat(e))},this.updateAudioRate=function(e,n){return t.instance.put("/rate/".concat(e),{rate:n})},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/audio"),withCredentials:!0})},D=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={audio:null,rate:0},a.audioService=new L,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.audioService.getOneAudio(t).then((function(t){console.log("esto es el res que guardo en el estado de audiodetails",t),e.setState(Object(p.a)(Object(p.a)({},e.state),{},{audio:t.data.audio})),e.getRateComments(),console.log("esto es el audio en el estado",e.state.audio)})).catch((function(e){return console.error(e)}))}},{key:"getRateComments",value:function(){var e,t,n=0;this.state.audio.comments.map((function(e){return n+=e.rate}));var a=n/(null===(e=this.state.audio)||void 0===e||null===(t=e.comments)||void 0===t?void 0:t.length);this.updateRateAudio(a)}},{key:"updateRateAudio",value:function(e){var t=this;console.log(e,"EL RATE DEL SERVICIO"),this.audioService.updateAudioRate(this.state.audio._id,e).then((function(n){console.log("esto es el res del servicio de update hasta el rate",n.data.audio.rate),t.setState(Object(p.a)(Object(p.a)({},t.state),{},{rate:e})),console.log("esto es el rate en el estado",t.state.rate)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.audio?Object(k.jsxs)(d.a,{children:[Object(k.jsxs)("h3",{children:["Audio de ",this.state.audio.book.name]}),Object(k.jsxs)("p",{children:["Del fragmento: ",this.state.audio.fragment.content]}),Object(k.jsxs)(I.a,{children:[Object(k.jsx)(U.a,{md:4,children:Object(k.jsx)(w.a,{src:"".concat(this.state.audio.audioFile),autoPlay:!1,controls:!0})}),Object(k.jsx)(U.a,{md:8,children:this.state.audio.comments.length>0?Object(k.jsx)(V,{comments:this.state.audio.comments}):Object(k.jsx)("p",{children:"No hay comentarios aun"})})]}),Object(k.jsx)(h.b,{to:"/crear-comentario/".concat(this.state.audio._id),children:Object(k.jsx)(x.a,{children:"Da tu opinion sobre este audio"})}),Object(k.jsx)(h.b,{to:"/audios",children:Object(k.jsx)(x.a,{children:"Volver a la lista de audios"})})]}):Object(k.jsx)("p",{children:"cargando..."})}}]),n}(a.Component),M=n(112),_=function e(){var t=this;Object(c.a)(this,e),this.uploadAudio=function(e){return t.instance.post("/audio",e)},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/upload"),withCredentials:!0})},R=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).uploadService=new _,e.audioService=new L,e.handleFile=function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{isLoading:!0}));var n=new FormData;n.append("audioData",t.target.files[0]),e.uploadService.uploadAudio(n).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{isLoading:!1,audioFile:t.data.fileUrl}))})).catch((function(e){return alert("Error, no se ha subido el audio")}))},e.handleSubmit=function(t){t.preventDefault(),e.audioService.createAudio({fragment:e.state.fragment,audioFile:e.state.audioFile,userId:e.state.userId}).then((function(){e.props.history.push("/fragmentos/".concat(e.state.fragment))}))},e.state={fragment:"",audioFile:"",userId:"",isLoading:null},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.fragmentId;console.log("este es el fragmentID que le paso al form",e),console.log(this.props),this.setState(Object(p.a)(Object(p.a)({},this.state),{},{userId:this.props.loggedUser._id,fragment:e}))}},{key:"render",value:function(){var e,t=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(M.a,{onSubmit:this.handleSubmit,children:[Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"audioFile",children:[Object(k.jsx)(M.a.Label,{children:"Archivo de audio: "}),Object(k.jsx)(M.a.Control,{onChange:function(e){return t.handleFile(e)},name:"audioFile",type:"file"})]}),this.state.isLoading&&Object(k.jsx)("p",{children:"Subiendo archivo"}),Object(k.jsx)(x.a,{disabled:this.state.isLoading,variant:"primary",type:"submit",children:this.state.isLoading?"Loading...":"Submit"})]}),Object(k.jsx)(h.b,{to:"/fragmentos/".concat(null===(e=this.state)||void 0===e?void 0:e.fragment),children:Object(k.jsx)(x.a,{children:"Volver a libros"})})]})}}]),n}(a.Component),P=function e(){var t=this;Object(c.a)(this,e),this.getUsers=function(){return t.instance.get("/")},this.getOneUser=function(e){return t.instance.get("/".concat(e))},this.createUser=function(e){return t.instance.post("/",e)},this.deleteUser=function(e){return t.instance.delete("/".concat(e))},this.addAudiosFav=function(e,n){return t.instance.put("/add-fav-audios",{audioId:e,userId:n})},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/user")})};n(100);var E=function(e){var t=e.rate,n=e.audioFile,a=e._id,r=e.loggedUser,s=e.storeUser,o=new P,c=function(e,t){return t.includes(e)},i=c(a,r?r.favAudios:[]);return Object(k.jsxs)(U.a,{md:6,children:[Object(k.jsx)(w.a,{src:"".concat(n),autoPlay:!1,controls:!0}),Object(k.jsx)(k.Fragment,{children:t?B(t):Object(k.jsx)("div",{className:"rating",children:"\u2606\u2606\u2606\u2606\u2606"})}),r&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.b,{to:"/audios/".concat(a),children:Object(k.jsx)(x.a,{children:"Detalles"})}),Object(k.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={audioId:a,userId:r._id};o.addAudiosFav(t.audioId,t.userId).then((function(e){s(e.data.user)})).catch((function(e){return console.log(e)})),i=c(a,r.favAudios)},children:Object(k.jsx)(x.a,{type:"submit",children:i?"Eliminar de Fav":"A\xf1adir a favoritos"})})]})]})},q=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).displayAudios=function(){return a.state.audios?a.state.audios.map((function(e){return Object(k.jsx)(E,Object(p.a)(Object(p.a)({},e),{},{loggedUser:a.props.loggedUser,storeUser:a.props.storeUser}))})):Object(k.jsx)("p",{children:"Cargando..."})},a.sortByRate=function(){var e=a.state.audios;a.setState(Object(p.a)(Object(p.a)({},a.state),{},{audios:e.sort((function(e,t){return t.rate-e.rate}))}))},a.state={audios:null},a.audioService=new L,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.audioService.getAudios().then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{audios:t.data})),e.sortByRate()}))}},{key:"render",value:function(){return Object(k.jsxs)(d.a,{children:[Object(k.jsxs)(I.a,{children:[Object(k.jsx)(U.a,{md:12,children:Object(k.jsx)("h2",{children:"Los mejores audios"})}),Object(k.jsx)("hr",{}),this.displayAudios()]}),Object(k.jsx)("hr",{}),!this.props.loggedUser&&Object(k.jsx)("h5",{children:" Inicia sesion para poder comentar "})]})}}]),n}(a.Component),z=n(31),T=n.n(z),G=n(36),H=function e(){var t=this;Object(c.a)(this,e),this.getBooks=function(){return t.instance.get("/")},this.getOneBook=function(e){return t.instance.get("/".concat(e))},this.createBook=function(e){return t.instance.post("/create",e)},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/book"),withCredentials:!0})},J=function e(){var t=this;Object(c.a)(this,e),this.getBooks=function(e){return t.instance.get("/search-book/".concat(e))},this.getBooksByType=function(e,n){return t.instance.get("/search-book-by/".concat(e,"/").concat(n))},this.getOneBook=function(e){return t.instance.get("/get-book/".concat(e))},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/apibook"),withCredentials:!0})},K=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={book:null,bookFromApi:null},a.apiBookService=new J,a.bookService=new H,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBook();case 2:this.createTheBook();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBook",value:function(){var e=this,t=this.props.match.params.id;return this.apiBookService.getOneBook(t).then((function(n){var a={};if(n.data.length>1){var r=n.data.filter((function(e){return e.id===t}));a=r[0]}else a=n.data[0];e.setState(Object(p.a)(Object(p.a)({},e.state),{},{bookFromApi:a}))})).catch((function(e){return console.error(e)}))}},{key:"createTheBook",value:function(){var e,t,n,a=this,r={bookIdApi:null===(e=this.state.bookFromApi)||void 0===e?void 0:e.id,name:null===(t=this.state.bookFromApi)||void 0===t||null===(n=t.volumeInfo)||void 0===n?void 0:n.title};this.bookService.createBook(r).then((function(e){return a.setState(Object(p.a)(Object(p.a)({},a.state),{},{book:e}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(d.a,{children:this.state.bookFromApi?Object(k.jsxs)(I.a,{children:[Object(k.jsxs)(U.a,{children:[Object(k.jsx)("h3",{children:this.state.bookFromApi.volumeInfo.title}),this.state.bookFromApi.volumeInfo.description?Object(k.jsx)("p",{children:this.state.bookFromApi.volumeInfo.description}):Object(k.jsx)("p",{children:"No hay descripcion"}),Object(k.jsx)("p",{children:this.state.bookFromApi.volumeInfo.authors[0]}),Object(k.jsxs)("h4",{children:["Paginas: ",this.state.bookFromApi.volumeInfo.pageCount]})]}),Object(k.jsx)(h.b,{to:"/crear-fragmento/".concat(this.state.bookFromApi.id),children:Object(k.jsx)(x.a,{variant:"primary",children:"A\xf1ade otro fragmento"})}),Object(k.jsx)(h.b,{to:"/",children:Object(k.jsx)(x.a,{children:"volver"})})]}):Object(k.jsx)("h3",{children:"Cargando..."})})})}}]),n}(a.Component),Q=K,W=n(110),X=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this)).apibookService=new J,a.componentDidUpdate=function(e,t){e.match.params.text!==a.props.match.params.text&&a.getBooks()},a.displayBooks=function(){return a.state.booksApi?a.state.booksApi.map((function(e){var t;return console.log(e),Object(k.jsxs)(U.a,{md:6,children:[Object(k.jsx)("h3",{children:e.volumeInfo.title}),Object(k.jsx)(W.a,{src:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)?e.volumeInfo.imageLinks.thumbnail:"https://www.esferalibros.com/assets/corporativa/images/portada_no_disponible.png"}),e.volumeInfo.description?Object(k.jsx)("p",{children:e.volumeInfo.description}):Object(k.jsx)("p",{children:"No hay descripcion"}),e.volumeInfo.authors?e.volumeInfo.authors.map((function(e){return Object(k.jsxs)("h4",{children:[" - ",e," - "]})})):Object(k.jsx)("p",{children:"Sin autores conocidos"}),Object(k.jsxs)("h4",{children:["Paginas: ",e.volumeInfo.pageCount]}),Object(k.jsx)(h.b,{to:"/detalles/".concat(e.id),children:Object(k.jsx)(x.a,{children:"hara cosas, como llevarte a narnia"})}),Object(k.jsx)("hr",{})]})})):Object(k.jsx)("p",{children:"Cargando..."})},a.state={booksApi:null},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"getBooks",value:function(){var e=this,t=this.props.match.params.text;this.apibookService.getBooks(t).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{booksApi:t.data}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(k.jsx)(d.a,{children:Object(k.jsxs)(I.a,{children:[this.state.booksApi?this.displayBooks():Object(k.jsx)("p",{children:"cargando..."}),Object(k.jsx)("hr",{})]})})}}]),n}(a.Component),Y=function e(){var t=this;Object(c.a)(this,e),this.getFragments=function(){return t.instance.get("/")},this.getFragmentsNotValidated=function(){return t.instance.get("/validated")},this.getOneFragment=function(e){return t.instance.get("/".concat(e))},this.createFragment=function(e){return t.instance.post("/",e)},this.deleteFragment=function(e){return t.instance.delete("/".concat(e))},this.updateFragment=function(e){return t.instance.put("/".concat(e))},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/fragment")})},Z=n(114);var $=function(e){var t=e._id,n=e.content,a=e.bookId;return Object(k.jsxs)(Z.a,{children:[Object(k.jsx)(Z.a.Title,{children:n}),Object(k.jsxs)(Z.a.Body,{children:[Object(k.jsxs)("p",{children:["Pertenece al libro con id: ",a]}),Object(k.jsx)(h.b,{to:"/crear-audio/".concat(t),children:Object(k.jsx)(x.a,{variant:"primary",children:"Subir audio de este fragmento"})}),Object(k.jsx)(h.b,{to:"/fragmentos/".concat(t),children:Object(k.jsx)(x.a,{children:"Audios del Fragmento"})})]})]})},ee=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).displayFragments=function(){return a.state.fragments?a.state.fragments.map((function(e){return Object(k.jsx)(U.a,{md:6,children:Object(k.jsx)($,Object(p.a)(Object(p.a)({},e),{},{bookName:a.props.book.name}))})})):Object(k.jsx)("p",{children:"Cargando..."})},a.filteredFragments=function(e){var t=a.state.fragments;return t?a.setState(Object(p.a)(Object(p.a)({},a.state),{},{fragments:t.filter((function(t){return t.bookId.includes(e)}))})):Object(k.jsx)("p",{children:"Cargando"})},a.state={fragments:null},a.fragmentService=new Y,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.book._id),this.fragmentService.getFragments().then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{fragments:t.data})),e.filteredFragments(e.props.book._id)}))}},{key:"render",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Fragmentos"}),Object(k.jsx)("hr",{}),Object(k.jsx)(d.a,{children:Object(k.jsx)(I.a,{children:this.displayFragments()})})]})}}]),n}(a.Component),te=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={book:null},a.bookService=new H,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.bookService.getOneBook(t).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{book:t.data.book}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e;return Object(k.jsx)(d.a,{children:this.state.book?Object(k.jsxs)(I.a,{children:[Object(k.jsxs)(U.a,{children:[Object(k.jsxs)("h1",{children:["Libro: ",this.state.book.name]}),null===(e=this.state.book.fragments)||void 0===e?void 0:e.map((function(e){return Object(k.jsx)("p",{children:e.content})})),Object(k.jsx)(ee,{book:this.state.book})]}),Object(k.jsx)(h.b,{to:"/crear-fragmento/".concat(this.state.book._id),children:Object(k.jsx)(x.a,{variant:"primary",children:"A\xf1ade otro fragmento"})}),Object(k.jsx)(h.b,{to:"/",children:Object(k.jsx)(x.a,{children:"volver"})})]}):Object(k.jsx)("h3",{children:"Cargando el libro..."})})}}]),n}(a.Component),ne=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={bookFromApi:null,book:null},a.apiBookService=new J,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e;this.setState(Object(p.a)(Object(p.a)({},this.state),{},{book:this.props.book})),this.getOneBook(null===(e=this.state.book)||void 0===e?void 0:e._id)}},{key:"getOneBook",value:function(e){var t=this;this.apiBookService.getOneBook(e).then((function(e){console.log("esto es la res data",e.data),t.setState(Object(p.a)(Object(p.a)({},t.state),{},{bookFromApi:e.data.book}))})).catch((function(e){return console.log(e)}))}},{key:"displayBook",value:function(){var e,t,n;return Object(k.jsx)(U.a,{md:4,children:Object(k.jsxs)(Z.a,{children:[Object(k.jsx)(Z.a.Title,{children:null===(e=this.state.book)||void 0===e?void 0:e.name}),Object(k.jsxs)(Z.a.Body,{children:[null===(t=this.state.book)||void 0===t?void 0:t.fragments.map((function(e){return e.isValidated&&Object(k.jsx)("p",{children:e.content})})),this.props.loggedUser&&Object(k.jsx)(h.b,{to:"/libros/".concat(null===(n=this.state.book)||void 0===n?void 0:n._id),children:Object(k.jsx)(x.a,{children:"Detalles"})})]})]})})}},{key:"render",value:function(){return this.displayBook()}}]),n}(a.Component),ae=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).displayBooks=function(){return a.state.books?a.state.books.map((function(e,t){return Object(k.jsx)(ne,{book:e,loggedUser:a.props.loggedUser},"".concat(t,"-").concat(e._id))})):Object(k.jsx)("p",{children:"Cargando..."})},a.sortByFragments=function(){var e=a.state.books;a.setState(Object(p.a)(Object(p.a)({},a.state),{},{books:e.sort((function(e,t){return t.fragments.length-e.fragments.length}))}))},a.state={books:null},a.bookService=new H,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.bookService.getBooks().then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{books:t.data})),e.sortByFragments()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(k.jsxs)(d.a,{children:[Object(k.jsx)("h2",{children:"Listado de Libros"}),Object(k.jsx)("hr",{}),Object(k.jsx)(I.a,{children:this.displayBooks()}),Object(k.jsx)("hr",{}),!this.props.loggedUser&&Object(k.jsx)("h5",{children:"Inicia sesion para subir tus audios de los fragmentos que tu quieras"})]})}}]),n}(a.Component),re=n(61),se=n(23),oe=function e(){var t=this;Object(c.a)(this,e),this.getComments=function(){return t.instance.get("/")},this.getCommentsNotValidated=function(){return t.instance.get("/validated")},this.getCommentsByUser=function(e){return t.instance.get("/by-user",e)},this.createComment=function(e){return t.instance.post("/",e)},this.deleteComment=function(e){return t.instance.delete("/".concat(e))},this.updateComment=function(e){return t.instance.put("/".concat(e))},this.instance=O.a.create({baseURL:"".concat("https://la-voz-de-las-palabras.herokuapp.com/api","/comment")})},ce=n(60),ie=(n(102),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).commentService=new oe,a.componentDidMount=function(){var e=a.props.loggedUser._id,t=a.props.match.params.audioId;a.setState(Object(p.a)(Object(p.a)({},a.state),{},{audioId:t,userId:e}))},a.handleSubmit=function(e){e.preventDefault(),a.commentService.createComment({text:a.state.text,user:a.state.userId,audioId:a.state.audioId,rate:a.state.rate}).then((function(){a.props.history.push("/audios/".concat(a.state.audioId))})).catch((function(e){return console.error(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)(Object(p.a)({},a.state),{},Object(se.a)({},n,r)))},a.state={text:"",userId:"",audioId:"",rate:null,hover:null},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return Object(k.jsxs)(M.a,{onSubmit:this.handleSubmit,children:[Object(k.jsx)("h2",{children:"Valora el audio "}),Object(re.a)(Array(5)).map((function(t,n){var a=n+1;return Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{id:"starRadio",type:"radio",name:"rate",value:a,onClick:function(t){return e.handleChange(t)}}),Object(k.jsx)(ce.a,{className:"star",color:a<=(e.state.hover||e.state.rate)?"#ffc107":"#e4e5e9",size:30,onMouseEnter:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{rate:a}))},onMouseLeave:function(){return e.setState(Object(p.a)(Object(p.a)({},e.state),{},{hover:null}))}})]},n)})),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"text",children:[Object(k.jsx)(M.a.Label,{children:Object(k.jsx)("h4",{children:"Comentario: "})}),Object(k.jsx)("p",{children:" Hola  "}),Object(k.jsx)(M.a.Control,{onChange:function(t){return e.handleChange(t)},name:"text",value:this.state.text,type:"text",placeholder:"Deja tu comentario"})]}),Object(k.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]})}}]),n}(a.Component)),ue=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getAudios=function(){console.log("esto es el fragment del estado en la funcion de getAudios ---",a.state.fragment),a.audioService.getAudiosByFragment(a.state.fragment).then((function(e){console.log("estoy dentro del then",a.state.fragment),a.setState(Object(p.a)(Object(p.a)({},a.state),{},{fragmentAudios:e.data}))})).catch((function(e){return console.error(e)}))},a.displayAudios=function(){var e;return console.log("soy la array de audios",a.state.fragmentAudios),console.log(null===(e=a.state.fragment)||void 0===e?void 0:e.bookId),a.state.fragmentAudios?a.state.fragmentAudios.map((function(e){return console.log("soy un audio por favor muestrate",e),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),Object(k.jsx)(h.b,{to:"/audios/".concat(e._id),children:Object(k.jsx)(x.a,{children:"Comentarios del audio"})})]})})):Object(k.jsx)("p",{children:"Cargando lista de audios..."})},a.state={fragment:null,book:null,fragmentAudios:null},a.fragmentService=new Y,a.bookService=new H,a.audioService=new L,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFragmentAndBook();case 2:this.state.fragment&&this.getAudios();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFragmentAndBook",value:function(){var e=this,t=this.props.match.params.id,n={fragment:null};return this.fragmentService.getOneFragment(t).then((function(t){return n.fragment=t.data.fragment,e.bookService.getOneBook(t.data.fragment.bookId)})).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{book:t.data.book,fragment:n.fragment}))})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e,t;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(d.a,{children:[this.state.fragment&&Object(k.jsx)(I.a,{children:Object(k.jsxs)(U.a,{children:[Object(k.jsx)("h3",{children:this.state.fragment.content}),Object(k.jsxs)("p",{children:["Este fragmento es del Libro: ",this.state.book.name]})]})}),Object(k.jsx)(I.a,{children:this.displayAudios()}),Object(k.jsx)(h.b,{to:"/libros/".concat(null===(e=this.state.fragment)||void 0===e?void 0:e.bookId),children:Object(k.jsx)(x.a,{children:"Volver a libros"})}),Object(k.jsx)(h.b,{to:"/crear-audio/".concat(null===(t=this.state.fragment)||void 0===t?void 0:t._id),children:Object(k.jsx)(x.a,{children:"Subir audio de este fragmento"})})]})})}}]),n}(n(1).Component),le=ue,de=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).fragmentService=new Y,a.componentDidMount=function(){var e=a.props.match.params.bookId;a.setState(Object(p.a)(Object(p.a)({},a.state),{},{bookId:e}))},a.handleSubmit=function(e){e.preventDefault(),a.fragmentService.createFragment(a.state).then((function(){a.props.history.push("/libros")})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)(Object(p.a)({},a.state),{},Object(se.a)({},n,r)))},a.state={content:"",bookId:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return Object(k.jsxs)(M.a,{onSubmit:this.handleSubmit,children:[Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"content",children:[Object(k.jsx)(M.a.Label,{children:"Fragmento: "}),Object(k.jsx)(M.a.Control,{onChange:function(t){return e.handleChange(t)},name:"content",value:this.state.content,type:"text",placeholder:"Introduce aqui el fragmento que vas a leer"})]}),Object(k.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]})}}]),n}(a.Component);var je=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(d.a,{style:{minHeight:"100vh"},children:[Object(k.jsx)("h1",{children:"Bienvenid@ a La Voz de las Palabras"}),Object(k.jsxs)("section",{className:"myRow",children:[Object(k.jsx)("div",{children:Object(k.jsx)(h.b,{to:"/libros",children:Object(k.jsx)(x.a,{children:"Ver libros"})})}),Object(k.jsx)("div",{children:Object(k.jsx)(h.b,{to:"/audios",children:Object(k.jsx)(x.a,{children:"Ver audios"})})})]}),Object(k.jsx)("br",{}),e.loggedUser?Object(k.jsx)("div",{className:"homepage",children:Object(k.jsx)(h.b,{to:"/perfil",children:Object(k.jsx)(x.a,{children:"Mi perfil"})})}):Object(k.jsxs)(I.a,{children:[Object(k.jsx)(U.a,{mt:60,className:"bloques",children:Object(k.jsx)(h.b,{to:"/registro",children:Object(k.jsx)(x.a,{children:"Registrate"})})}),Object(k.jsx)(U.a,{className:"bloques",children:Object(k.jsx)(h.b,{to:"/iniciar-sesion",children:Object(k.jsx)(x.a,{children:"Inicia Sesion"})})})]})]}),Object(k.jsx)(ae,{loggedUser:e.loggedUser}),Object(k.jsx)(q,{loggedUser:e.loggedUser,storeUser:e.storeUser})]})},he=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(se.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.pwd;a.authService.login(n,r).then((function(e){a.props.storeUser(e.data),a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.state={username:"",pwd:"",email:""},a.authService=new m,a}return Object(f.a)(n,[{key:"render",value:function(){return Object(k.jsx)(d.a,{children:Object(k.jsxs)(M.a,{onSubmit:this.handleFormSubmit,children:[Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(M.a.Label,{children:"Username"}),Object(k.jsx)(M.a.Control,{name:"username",value:this.state.username,onChange:this.handleInput,type:"text",placeholder:"Enter username"})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(k.jsx)(M.a.Label,{children:"Password"}),Object(k.jsx)(M.a.Control,{name:"pwd",value:this.state.pwd,onChange:this.handleInput,type:"password",placeholder:"Password"})]}),Object(k.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]})})}}]),n}(a.Component),be=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getUser=function(){a.userService.getOneUser(a.props.loggedUser._id).then((function(e){a.setState(Object(p.a)(Object(p.a)({},a.state),{},{user:e.data.user}))})).catch((function(e){return console.log(e)}))},a.displayMyAudios=function(){return a.state.user?a.state.user.myAudios.map((function(e){return Object(k.jsxs)(U.a,{md:6,children:[Object(k.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),a.loggedUser&&Object(k.jsx)(h.b,{to:"/audios/".concat(e._id),children:Object(k.jsx)(x.a,{children:"Detalles"})})]})})):Object(k.jsx)("p",{children:"cargando usuario"})},a.displayFavAudios=function(){return a.state.user?a.state.user.favAudios.map((function(e){return Object(k.jsxs)(U.a,{md:6,children:[Object(k.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),Object(k.jsx)(h.b,{to:"/audios/".concat(e._id),children:Object(k.jsx)(x.a,{children:"Detalles"})})]})})):Object(k.jsx)("p",{children:"Cargando usuario"})},a.state={user:null},a.userService=new P,a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(I.a,{children:[Object(k.jsx)("h3",{children:"Lista de mis audios"}),Object(k.jsx)("hr",{}),this.state.user?this.displayMyAudios():Object(k.jsx)("p",{children:"Cargando audios..."})]}),Object(k.jsxs)(I.a,{children:[Object(k.jsx)("h3",{children:"Lista de mis audios favoritos"}),Object(k.jsx)("hr",{}),this.state.user?this.displayFavAudios():Object(k.jsx)("p",{children:"Cargando audios..."})]})]})}}]),n}(a.Component),Oe=n(62);var me=function(e){var t=new Y,n=function(n){n.preventDefault();var a=n.target.querySelector("button").value;t.updateFragment(a).then((function(){console.log(e),e.getNotValidated()})).catch((function(e){return console.log(e)}))};return Object(k.jsxs)(I.a,{children:[Object(k.jsx)("h3",{children:"Lista de Fragmentos a validar"}),Object(k.jsx)("hr",{}),e.fragments?e.fragments.map((function(e){return Object(k.jsxs)(U.a,{md:4,children:[Object(k.jsxs)("p",{children:["-",e.content,"-"]}),Object(k.jsx)(M.a,{onSubmit:n,children:Object(k.jsx)(x.a,{type:"submit",value:e._id,children:"Validar"})})]})})):Object(k.jsx)("p",{children:"cargando fragmentos..."})]})};var pe=function(e){var t=new oe,n=function(n){n.preventDefault();var a=n.target.querySelector("button").value;t.updateComment(a).then((function(){console.log(e),e.getNotValidated()})).catch((function(e){return console.log(e)}))};return Object(k.jsxs)(I.a,{children:[Object(k.jsx)("h3",{children:"Lista de comentarios a validar"}),Object(k.jsx)("hr",{}),e.comments?e.comments.map((function(e){return Object(k.jsxs)(U.a,{md:3,children:[Object(k.jsxs)("p",{children:["-",e.text,"-"]}),Object(k.jsx)(M.a,{onSubmit:n,children:Object(k.jsx)(x.a,{type:"submit",value:e._id,children:"Validar"})})]})})):Object(k.jsx)("p",{children:"cargando comentarios..."})]})};var fe=function(e){var t=new L,n=function(n){n.preventDefault();var a=n.target.querySelector("button").value;console.log(n.target,"hola soy ohhhhh",a),t.updateAudio(a).then((function(){console.log(e),e.getNotValidated()})).catch((function(e){return console.log(e)}))};return Object(k.jsxs)(I.a,{children:[Object(k.jsx)("h3",{children:"Lista de audios a validar"}),Object(k.jsx)("hr",{}),e.audios?e.audios.map((function(e,t){return Object(k.jsxs)(U.a,{md:3,children:[Object(k.jsx)(w.a,{src:"".concat(e.audioFile),autoPlay:!1,controls:!0}),Object(k.jsx)(M.a,{onSubmit:n,children:Object(k.jsx)(x.a,{type:"submit",value:e._id,children:"Validar"})})]},e._id+t)})):Object(k.jsx)("p",{children:"cargando audios..."})]})},ge=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={fragmentsNotValidated:null,audiosNotValidated:null,commentsNotValidated:null},e.fragmentService=new Y,e.audioService=new L,e.commentService=new oe,e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getNotValidated()}},{key:"getNotValidated",value:function(){var e=this,t=[this.fragmentService.getFragmentsNotValidated(),this.audioService.getAudiosNotValidated(),this.commentService.getCommentsNotValidated()];Promise.all(t).then((function(t){var n=Object(Oe.a)(t,3),a=n[0],r=n[1],s=n[2];e.setState(Object(p.a)(Object(p.a)({},e.state),{},{fragmentsNotValidated:a.data.fragments,audiosNotValidated:r.data,commentsNotValidated:s.data}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Validaciones"}),Object(k.jsx)(me,{fragments:this.state.fragmentsNotValidated,getNotValidated:function(){return e.getNotValidated()}}),Object(k.jsx)(pe,{comments:this.state.commentsNotValidated,getNotValidated:function(){return e.getNotValidated()}}),Object(k.jsx)(fe,{audios:this.state.audiosNotValidated,getNotValidated:function(){return e.getNotValidated()}})]})}}]),n}(a.Component),ve=(n(103),function(e){var t=e.loggedUser,n=e.storeUser;return Object(k.jsxs)(d.a,{children:[Object(k.jsxs)("h1",{children:["\xa1Bienvenid@, ",t.username,"!"]}),"ADMIN"===t.role?Object(k.jsx)(ge,{loggedUser:t}):Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{children:"Aqui van las listas de mis audios y los audios fav:"}),Object(k.jsx)(be,{loggedUser:t,storeUser:n})]})]})}),xe=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).apibookService=new J,a.componentDidUpdate=function(e,t){e.match.params.text!==a.props.match.params.text&&a.getBooks()},a.displayBooks=function(){return a.state.libros?a.state.libros.map((function(e){return console.log(e),Object(k.jsxs)(U.a,{md:6,children:[Object(k.jsx)("h3",{children:e.volumeInfo.title}),e.volumeInfo.description?Object(k.jsx)("p",{children:e.volumeInfo.description}):Object(k.jsx)("p",{children:"Sin descripcion"}),e.volumeInfo.pageCount?Object(k.jsxs)("h4",{children:["Paginas: ",e.volumeInfo.pageCount]}):Object(k.jsx)(k.Fragment,{children:" "}),Object(k.jsx)(h.b,{children:Object(k.jsx)(x.a,{children:"hara cosas, como llevarte a narnia"})}),Object(k.jsx)("hr",{})]})})):Object(k.jsx)("p",{children:"Cargando..."})},a.state={libros:null},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getBooks()}},{key:"getBooks",value:function(){var e=this,t=this.props.match.params.text;this.apibookService.getBooks(t).then((function(t){e.setState(Object(p.a)(Object(p.a)({},e.state),{},{libros:t.data})),console.log(e.state.libros)})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return Object(k.jsx)(d.a,{children:Object(k.jsxs)(I.a,{children:[this.state.libros?this.displayBooks():Object(k.jsx)("p",{children:"cargando..."}),Object(k.jsx)("hr",{})]})})}}]),n}(a.Component),ke=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(se.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,s=t.email;a.authService.signup(n,r,s).then((function(e){return a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.state={username:"",password:"",email:""},a.authService=new m,a}return Object(f.a)(n,[{key:"render",value:function(){return Object(k.jsx)(d.a,{children:Object(k.jsxs)(M.a,{onSubmit:this.handleFormSubmit,children:[Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(k.jsx)(M.a.Label,{children:"Username"}),Object(k.jsx)(M.a.Control,{name:"username",value:this.state.username,onChange:this.handleInput,type:"text",placeholder:"Enter username"})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(k.jsx)(M.a.Label,{children:"Email"}),Object(k.jsx)(M.a.Control,{name:"email",value:this.state.email,onChange:this.handleInput,type:"text",placeholder:"Email"})]}),Object(k.jsxs)(M.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(k.jsx)(M.a.Label,{children:"Password"}),Object(k.jsx)(M.a.Control,{name:"password",value:this.state.password,onChange:this.handleInput,type:"password",placeholder:"Password"})]}),Object(k.jsx)(x.a,{variant:"primary",type:"submit",children:"Submit"})]})})}}]),n}(a.Component),ye=function(e){var t=e.storeUser,n=e.loggedUser;return Object(k.jsxs)(F.d,{children:[Object(k.jsx)(F.b,{exact:!0,path:"/",render:function(){return Object(k.jsx)(je,{loggedUser:n,storeUser:t})}}),Object(k.jsx)(F.b,{exact:!0,path:"/libros",render:function(){return Object(k.jsx)(ae,{loggedUser:n})}}),Object(k.jsx)(F.b,{exact:!0,path:"/audios",render:function(){return Object(k.jsx)(q,{loggedUser:n,storeUser:t})}}),Object(k.jsx)(F.b,{exact:!0,path:"/registro",render:function(e){return Object(k.jsx)(ke,Object(p.a)({},e))}}),Object(k.jsx)(F.b,{exact:!0,path:"/iniciar-sesion",render:function(e){return Object(k.jsx)(he,Object(p.a)({storeUser:t},e))}}),Object(k.jsx)(F.b,{path:"/lista-libros/:text",render:function(e){return Object(k.jsx)(X,Object(p.a)(Object(p.a)({},e),{},{loggedUser:n}))}}),Object(k.jsx)(F.b,{path:"/detalles/:id",render:function(e){return Object(k.jsx)(Q,Object(p.a)({},e))}}),Object(k.jsx)(F.b,{path:"/prueba-searchbar",render:function(){return Object(k.jsx)(y,{})}}),Object(k.jsx)(F.b,{path:"/prueba",render:function(){return Object(k.jsx)(xe,{})}}),n?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.b,{path:"/libros/:id",render:function(e){return Object(k.jsx)(te,Object(p.a)({},e))}}),Object(k.jsx)(F.b,{path:"/fragmentos/:id",render:function(e){return Object(k.jsx)(le,Object(p.a)({},e))}}),Object(k.jsx)(F.b,{path:"/audios/:id",render:function(e){return Object(k.jsx)(D,Object(p.a)({},e))}}),Object(k.jsx)(F.b,{path:"/crear-audio/:fragmentId",render:function(e){return Object(k.jsx)(R,Object(p.a)(Object(p.a)({},e),{},{loggedUser:n}))}}),Object(k.jsx)(F.b,{path:"/crear-comentario/:audioId",render:function(e){return Object(k.jsx)(ie,Object(p.a)(Object(p.a)({},e),{},{loggedUser:n}))}}),Object(k.jsx)(F.b,{path:"/crear-fragmento/:bookId",render:function(e){return Object(k.jsx)(de,Object(p.a)({},e))}}),Object(k.jsx)(F.b,{path:"/perfil",render:function(){return Object(k.jsx)(ve,{loggedUser:n,storeUser:t})}})]}):Object(k.jsx)(F.a,{to:"/iniciar-sesion"})]})},Se=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.authService.isloggedin().then((function(t){return e.storeUser(t.data)})).catch((function(t){return e.storeUser(null)}))},e.storeUser=function(t){return e.setState({loggedUser:t})},e.render=function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(C,{loggedUser:e.state.loggedUser,storeUser:e.storeUser}),Object(k.jsx)(ye,{loggedUser:e.state.loggedUser,storeUser:e.storeUser})]})},e.state={loggedUser:void 0},e.authService=new m,e}return n}(a.Component),Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};o.a.render(Object(k.jsxs)(h.a,{children:[Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(Se,{})}),","]}),document.getElementById("root")),Ce()},67:function(e,t,n){},69:function(e,t,n){},99:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.db438ab0.chunk.js.map